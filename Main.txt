--[[
     _      ___         ____  ______
    | | /| / (_)__  ___/ / / / /  _/
    | |/ |/ / / _ \/ _  / /_/ // /  
    |__/|__/_/_//_/\_,_/\____/___/
    
    v1.6.61  |  2025-11-14  |  Roblox UI Library for scripts
    
    To view the source code, see the `src/` folder on the official GitHub repository.
    
    Author: Footagesus (Footages, .ftgs, oftgs)
    Github: https://github.com/Footagesus/WindUI
    Discord: https://discord.gg/ftgs-development-hub-1300692552005189632
    License: MIT
]]

local WindUI = {
    cache = {},
    load = function(b)
        if not WindUI.cache[b] then
            WindUI.cache[b] = { c = WindUI[b]() }
        end
        return WindUI.cache[b].c
    end
}

do
    function WindUI.ThemeFallbacks()
        return {
            White = Color3.new(1, 1, 1),
            Black = Color3.new(0, 0, 0),
            
            Dialog = "Accent",
            
            Background = "Accent",
            BackgroundTransparency = 0,
            Hover = "Text",
            
            WindowBackground = "Background",
            
            WindowShadow = "Black",
            
            WindowTopbarTitle = "Text",
            WindowTopbarAuthor = "Text",
            WindowTopbarIcon = "Icon",
            WindowTopbarButtonIcon = "Icon",
            
            TabBackground = "Hover",
            TabTitle = "Text",
            TabIcon = "Icon",
            
            ElementBackground = "Text",
            ElementTitle = "Text",
            ElementDesc = "Text",
            ElementIcon = "Icon",
            
            PopupBackground = "Background",
            PopupBackgroundTransparency = "BackgroundTransparency",
            PopupTitle = "Text",
            PopupContent = "Text",
            PopupIcon = "Icon",
            
            DialogBackground = "Background",
            DialogBackgroundTransparency = "BackgroundTransparency",
            DialogTitle = "Text",
            DialogContent = "Text",
            DialogIcon = "Icon",
            
            Toggle = "Button",
            
            Checkbox = "Button",
            CheckboxIcon = "White",
        }
    end

    function WindUI.Core()
        local RunService = game:GetService("RunService")
        local Heartbeat = RunService.Heartbeat
        local UserInputService = game:GetService("UserInputService")
        local TweenService = game:GetService("TweenService")
        local LocalizationService = game:GetService("LocalizationService")
        local HttpService = game:GetService("HttpService")
        
        local IconsURL = "https://raw.githubusercontent.com/Footagesus/Icons/main/Main-v2.lua"
        local Icons = loadstring(game.HttpGetAsync and game:HttpGetAsync(IconsURL) or HttpService:GetAsync(IconsURL))()
        Icons.SetIconsType("lucide")
        
        local Library
        
        local Core = {
            Font = "rbxassetid://12187365364",
            Localization = nil,
            CanDraggable = true,
            Theme = nil,
            Themes = nil,
            Icons = Icons,
            Signals = {},
            Objects = {},
            LocalizationObjects = {},
            FontObjects = {},
            Language = string.match(LocalizationService.SystemLocaleId, "^[a-z]+"),
            Request = http_request or (syn and syn.request) or request,
            
            DefaultProperties = {
                ScreenGui = {
                    ResetOnSpawn = false,
                    ZIndexBehavior = "Sibling",
                },
                CanvasGroup = {
                    BorderSizePixel = 0,
                    BackgroundColor3 = Color3.new(1, 1, 1),
                },
                Frame = {
                    BorderSizePixel = 0,
                    BackgroundColor3 = Color3.new(1, 1, 1),
                },
                TextLabel = {
                    BackgroundColor3 = Color3.new(1, 1, 1),
                    BorderSizePixel = 0,
                    Text = "",
                    RichText = true,
                    TextColor3 = Color3.new(1, 1, 1),
                    TextSize = 14,
                },
                TextButton = {
                    BackgroundColor3 = Color3.new(1, 1, 1),
                    BorderSizePixel = 0,
                    Text = "",
                    AutoButtonColor = false,
                    TextColor3 = Color3.new(1, 1, 1),
                    TextSize = 14,
                },
                TextBox = {
                    BackgroundColor3 = Color3.new(1, 1, 1),
                    BorderColor3 = Color3.new(0, 0, 0),
                    ClearTextOnFocus = false,
                    Text = "",
                    TextColor3 = Color3.new(0, 0, 0),
                    TextSize = 14,
                },
                ImageLabel = {
                    BackgroundTransparency = 1,
                    BackgroundColor3 = Color3.new(1, 1, 1),
                    BorderSizePixel = 0,
                },
                ImageButton = {
                    BackgroundColor3 = Color3.new(1, 1, 1),
                    BorderSizePixel = 0,
                    AutoButtonColor = false,
                },
                UIListLayout = {
                    SortOrder = "LayoutOrder",
                },
                ScrollingFrame = {
                    ScrollBarImageTransparency = 1,
                    BorderSizePixel = 0,
                },
                VideoFrame = {
                    BorderSizePixel = 0,
                }
            },
            
            Colors = {
                Red = "#e53935",
                Orange = "#f57c00",
                Green = "#43a047",
                Blue = "#039be5",
                White = "#ffffff",
                Grey = "#484848",
            },
            
            ThemeFallbacks = WindUI.load('ThemeFallbacks'),
            
            Shapes = {
                Square = "rbxassetid://82909646051652",
                ["Square-Outline"] = "rbxassetid://72946211851948",
                
                Squircle = "rbxassetid://80999662900595",
                SquircleOutline = "rbxassetid://117788349049947",
                ["Squircle-Outline"] = "rbxassetid://117817408534198",
                
                SquircleOutline2 = "rbxassetid://117817408534198",
                
                ["Shadow-sm"] = "rbxassetid://84825982946844",
                
                ["Squircle-TL-TR"] = "rbxassetid://73569156276236",
                ["Squircle-BL-BR"] = "rbxassetid://93853842912264",
                ["Squircle-TL-TR-Outline"] = "rbxassetid://136702870075563",
                ["Squircle-BL-BR-Outline"] = "rbxassetid://75035847706564",
            }
        }

        function Core.Init(p)
            Library = p
        end

        function Core.AddSignal(p, r)
            local connection = p:Connect(r)
            table.insert(Core.Signals, connection)
            return connection
        end

        function Core.DisconnectAll()
            for p, r in next, Core.Signals do
                local connection = table.remove(Core.Signals, p)
                connection:Disconnect()
            end
        end

        function Core.SafeCallback(p, ...)
            if not p then
                return
            end

            local r, u = pcall(p, ...)
            if not r then
                if Library and Library.Window and Library.Window.Debug then
                    warn("[ WindUI: DEBUG Mode ] " .. u)
                    return Library:Notify{
                        Title = "DEBUG Mode: Error",
                        Content = u,
                        Duration = 8,
                    }
                end
            end
        end

        function Core.Gradient(p, r)
            if Library and Library.Gradient then
                return Library:Gradient(p, r)
            end

            local colorKeypoints = {}
            local transparencyKeypoints = {}

            for x, z in next, p do
                local time = tonumber(x)
                if time then
                    time = math.clamp(time / 100, 0, 1)
                    table.insert(colorKeypoints, ColorSequenceKeypoint.new(time, z.Color))
                    table.insert(transparencyKeypoints, NumberSequenceKeypoint.new(time, z.Transparency or 0))
                end
            end

            table.sort(colorKeypoints, function(a, b) return a.Time < b.Time end)
            table.sort(transparencyKeypoints, function(a, b) return a.Time < b.Time end)

            if #colorKeypoints < 2 then
                error("ColorSequence requires at least 2 keypoints")
            end

            local gradientData = {
                Color = ColorSequence.new(colorKeypoints),
                Transparency = NumberSequence.new(transparencyKeypoints),
            }

            if r then
                for property, value in pairs(r) do
                    gradientData[property] = value
                end
            end

            return gradientData
        end

        function Core.SetTheme(p)
            Core.Theme = p
            Core.UpdateTheme(nil, true)
        end

        function Core.AddFontObject(p)
            table.insert(Core.FontObjects, p)
            Core.UpdateFont(Core.Font)
        end

        function Core.UpdateFont(p)
            Core.Font = p
            for r, u in next, Core.FontObjects do
                u.FontFace = Font.new(p, u.FontFace.Weight, u.FontFace.Style)
            end
        end

        function Core.GetThemeProperty(p, r)
            local function getValue(u, v)
                local x = v[u]
                if x == nil then return nil end

                if typeof(x) == "string" and string.sub(x, 1, 1) == "#" then
                    return Color3.fromHex(x)
                end

                if typeof(x) == "Color3" then
                    return x
                end

                if typeof(x) == "number" then
                    return x
                end

                if typeof(x) == "table" and x.Color and x.Transparency then
                    return x
                end

                if typeof(x) == "function" then
                    return x()
                end

                return x
            end

            local u = getValue(p, r)
            if u ~= nil then
                if typeof(u) == "string" and string.sub(u, 1, 1) ~= "#" then
                    local v = Core.GetThemeProperty(u, r)
                    if v ~= nil then
                        return v
                    end
                else
                    return u
                end
            end

            local v = Core.ThemeFallbacks[p]
            if v ~= nil then
                if typeof(v) == "string" and string.sub(v, 1, 1) ~= "#" then
                    return Core.GetThemeProperty(v, r)
                else
                    return getValue(p, {[p] = v})
                end
            end

            u = getValue(p, Core.Themes.Dark)
            if u ~= nil then
                if typeof(u) == "string" and string.sub(u, 1, 1) ~= "#" then
                    local x = Core.GetThemeProperty(u, Core.Themes.Dark)
                    if x ~= nil then
                        return x
                    end
                else
                    return u
                end
            end

            if v ~= nil then
                if typeof(v) == "string" and string.sub(v, 1, 1) ~= "#" then
                    return Core.GetThemeProperty(v, Core.Themes.Dark)
                else
                    return getValue(p, {[p] = v})
                end
            end

            return nil
        end

        function Core.AddThemeObject(p, r)
            Core.Objects[p] = {Object = p, Properties = r}
            Core.UpdateTheme(p, false)
            return p
        end

        function Core.AddLangObject(p)
            local r = Core.LocalizationObjects[p]
            local u = r.Object
            local v = currentObjTranslationId
            Core.UpdateLang(u, v)
            return u
        end

        function Core.UpdateTheme(p, r)
            local function ApplyTheme(u)
                for v, x in pairs(u.Properties or {}) do
                    local z = Core.GetThemeProperty(x, Core.Theme)
                    if z ~= nil then
                        if typeof(z) == "Color3" then
                            local gradient = u.Object:FindFirstChild("WindUIGradient")
                            if gradient then
                                gradient:Destroy()
                            end

                            if not r then
                                u.Object[v] = z
                            else
                                Core.Tween(u.Object, 0.08, {[v] = z}):Play()
                            end
                        elseif typeof(z) == "table" and z.Color and z.Transparency then
                            u.Object[v] = Color3.new(1, 1, 1)

                            local gradient = u.Object:FindFirstChild("WindUIGradient")
                            if not gradient then
                                gradient = Instance.new("UIGradient")
                                gradient.Name = "WindUIGradient"
                                gradient.Parent = u.Object
                            end

                            gradient.Color = z.Color
                            gradient.Transparency = z.Transparency

                            for property, value in pairs(z) do
                                if property ~= "Color" and property ~= "Transparency" and gradient[property] ~= nil then
                                    gradient[property] = value
                                end
                            end
                        elseif typeof(z) == "number" then
                            if not r then
                                u.Object[v] = z
                            else
                                Core.Tween(u.Object, 0.08, {[v] = z}):Play()
                            end
                        end
                    else
                        local gradient = u.Object:FindFirstChild("WindUIGradient")
                        if gradient then
                            gradient:Destroy()
                        end
                    end
                end
            end

            if p then
                local u = Core.Objects[p]
                if u then
                    ApplyTheme(u)
                end
            else
                for u, v in pairs(Core.Objects) do
                    ApplyTheme(v)
                end
            end
        end

        function Core.New(p, r, u)
            local v = Instance.new(p)

            for x, z in next, Core.DefaultProperties[p] or {} do
                v[x] = z
            end

            for A, B in next, r or {} do
                if A ~= "ThemeTag" then
                    v[A] = B
                end
                if Core.Localization and Core.Localization.Enabled and A == "Text" then
                    local translationId = string.match(B, "^" .. Core.Localization.Prefix .. "(.+)")
                    if translationId then
                        local index = #Core.LocalizationObjects + 1
                        Core.LocalizationObjects[index] = {TranslationId = translationId, Object = v}
                        Core.SetLangForObject(index)
                    end
                end
            end

            for C, F in next, u or {} do
                F.Parent = v
            end

            if r and r.ThemeTag then
                Core.AddThemeObject(v, r.ThemeTag)
            end
            if r and r.FontFace then
                Core.AddFontObject(v)
            end
            return v
        end

        function Core.Tween(p, r, u, ...)
            return TweenService:Create(p, TweenInfo.new(r, ...), u)
        end

        function Core.NewRoundFrame(radius, shapeType, properties, children, returnHandler)
            local function getImageForType(shape)
                return Core.Shapes[shape]
            end

            local function getSliceCenterForType(shape)
                return shape ~= "Shadow-sm" and Rect.new(256, 256, 256, 256) or Rect.new(512, 512, 512, 512)
            end

            local frame = Core.New("ImageLabel", {
                Image = getImageForType(shapeType),
                ScaleType = "Slice",
                SliceCenter = getSliceCenterForType(shapeType),
                SliceScale = 1,
                BackgroundTransparency = 1,
                ThemeTag = properties.ThemeTag and properties.ThemeTag
            }, children)

            for property, value in pairs(properties or {}) do
                if property ~= "ThemeTag" then
                    frame[property] = value
                end
            end

            local function UpdateSliceScale(newRadius)
                local scale = shapeType ~= "Shadow-sm" and (newRadius / 256) or (newRadius / 512)
                frame.SliceScale = math.max(scale, 0.0001)
            end

            local handler = {}

            function handler.SetRadius(newRadius)
                UpdateSliceScale(newRadius)
            end

            function handler.SetType(newType)
                shapeType = newType
                frame.Image = getImageForType(newType)
                frame.SliceCenter = getSliceCenterForType(newType)
                UpdateSliceScale(radius)
            end

            function handler.UpdateShape(newRadius, newType)
                if newType then
                    shapeType = newType
                    frame.Image = getImageForType(newType)
                    frame.SliceCenter = getSliceCenterForType(newType)
                end
                if newRadius then
                    radius = newRadius
                end
                UpdateSliceScale(radius)
            end

            function handler.GetRadius()
                return radius
            end

            function handler.GetType()
                return shapeType
            end

            UpdateSliceScale(radius)

            if returnHandler then
                return frame, handler
            else
                return frame
            end
        end

        function Core.SetDraggable(u)
            Core.CanDraggable = u
        end

        function Core.Drag(u, v, A)
            local draggingObject
            local isDragging, startPosition, startObjectPosition
            local dragSettings = {
                CanDraggable = true
            }

            if not v or typeof(v) ~= "table" then
                v = {u}
            end

            local function update(input)
                if not isDragging or not dragSettings.CanDraggable then return end

                local delta = input.Position - startPosition
                Core.Tween(u, 0.02, {
                    Position = UDim2.new(
                        startObjectPosition.X.Scale, startObjectPosition.X.Offset + delta.X,
                        startObjectPosition.Y.Scale, startObjectPosition.Y.Offset + delta.Y
                    )
                }):Play()
            end

            for _, element in pairs(v) do
                element.InputBegan:Connect(function(input)
                    if (input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch) and dragSettings.CanDraggable then
                        if draggingObject == nil then
                            draggingObject = element
                            isDragging = true
                            startPosition = input.Position
                            startObjectPosition = u.Position

                            if A and typeof(A) == "function" then
                                A(true, draggingObject)
                            end

                            input.Changed:Connect(function()
                                if input.UserInputState == Enum.UserInputState.End then
                                    isDragging = false
                                    draggingObject = nil

                                    if A and typeof(A) == "function" then
                                        A(false, nil)
                                    end
                                end
                            end)
                        end
                    end
                end)

                element.InputChanged:Connect(function(input)
                    if isDragging and draggingObject == element then
                        if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
                            update(input)
                        end
                    end
                end)
            end

            UserInputService.InputChanged:Connect(function(input)
                if isDragging and draggingObject ~= nil then
                    if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
                        update(input)
                    end
                end
            end)

            function dragSettings.Set(enabled)
                dragSettings.CanDraggable = enabled
            end

            return dragSettings
        end

        Icons.Init(Core.New, "Icon")

        return Core
    end

    function WindUI.LocalizationModule()
        local b = {}

        function b.New(e, f, g)
            local h = {
                Enabled = f.Enabled or false,
                Translations = f.Translations or {},
                Prefix = f.Prefix or "loc:",
                DefaultLanguage = f.DefaultLanguage or "en"
            }

            g.Localization = h

            return h
        end

        return b
    end

    function WindUI.NotificationModule()
        local b = WindUI.load('Core')
        local e = b.New
        local f = b.Tween

        local g = {
            Size = UDim2.new(0, 300, 1, -156),
            SizeLower = UDim2.new(0, 300, 1, -56),
            UICorner = 13,
            UIPadding = 14,

            Holder = nil,
            NotificationIndex = 0,
            Notifications = {}
        }

        function g.Init(h)
            local i = {
                Lower = false
            }

            function i.SetLower(j)
                i.Lower = j
                i.Frame.Size = j and g.SizeLower or g.Size
            end

            i.Frame = e("Frame", {
                Position = UDim2.new(1, -29, 0, 56),
                AnchorPoint = Vector2.new(1, 0),
                Size = g.Size,
                Parent = h,
                BackgroundTransparency = 1,
            }, {
                e("UIListLayout", {
                    HorizontalAlignment = "Center",
                    SortOrder = "LayoutOrder",
                    VerticalAlignment = "Bottom",
                    Padding = UDim.new(0, 8),
                }),
                e("UIPadding", {
                    PaddingBottom = UDim.new(0, 29)
                })
            })
            return i
        end

        function g.New(h)
            local i = {
                Title = h.Title or "Notification",
                Content = h.Content or nil,
                Icon = h.Icon or nil,
                IconThemed = h.IconThemed,
                Background = h.Background,
                BackgroundImageTransparency = h.BackgroundImageTransparency,
                Duration = h.Duration or 5,
                Buttons = h.Buttons or {},
                CanClose = true,
                UIElements = {},
                Closed = false,
            }
            if i.CanClose == nil then
                i.CanClose = true
            end
            g.NotificationIndex = g.NotificationIndex + 1
            g.Notifications[g.NotificationIndex] = i

            local j

            if i.Icon then
                j = b.Image(
                    i.Icon,
                    i.Title .. ":" .. i.Icon,
                    0,
                    h.Window,
                    "Notification",
                    i.IconThemed
                )
                j.Size = UDim2.new(0, 26, 0, 26)
                j.Position = UDim2.new(0, g.UIPadding, 0, g.UIPadding)
            end

            local l
            if i.CanClose then
                l = e("ImageButton", {
                    Image = b.Icon("x")[1],
                    ImageRectSize = b.Icon("x")[2].ImageRectSize,
                    ImageRectOffset = b.Icon("x")[2].ImageRectPosition,
                    BackgroundTransparency = 1,
                    Size = UDim2.new(0, 16, 0, 16),
                    Position = UDim2.new(1, -g.UIPadding, 0, g.UIPadding),
                    AnchorPoint = Vector2.new(1, 0),
                    ThemeTag = {
                        ImageColor3 = "Text"
                    },
                    ImageTransparency = .4,
                }, {
                    e("TextButton", {
                        Size = UDim2.new(1, 8, 1, 8),
                        BackgroundTransparency = 1,
                        AnchorPoint = Vector2.new(0.5, 0.5),
                        Position = UDim2.new(0.5, 0, 0.5, 0),
                        Text = "",
                    })
                })
            end

            local m = e("Frame", {
                Size = UDim2.new(0, 0, 1, 0),
                BackgroundTransparency = .95,
                ThemeTag = {
                    BackgroundColor3 = "Text",
                },
            })

            local p = e("Frame", {
                Size = UDim2.new(1, i.Icon and -28 - g.UIPadding or 0, 1, 0),
                Position = UDim2.new(1, 0, 0, 0),
                AnchorPoint = Vector2.new(1, 0),
                BackgroundTransparency = 1,
                AutomaticSize = "Y",
            }, {
                e("UIPadding", {
                    PaddingTop = UDim.new(0, g.UIPadding),
                    PaddingLeft = UDim.new(0, g.UIPadding),
                    PaddingRight = UDim.new(0, g.UIPadding),
                    PaddingBottom = UDim.new(0, g.UIPadding),
                }),
                e("TextLabel", {
                    AutomaticSize = "Y",
                    Size = UDim2.new(1, -30 - g.UIPadding, 0, 0),
                    TextWrapped = true,
                    TextXAlignment = "Left",
                    RichText = true,
                    BackgroundTransparency = 1,
                    TextSize = 16,
                    ThemeTag = {
                        TextColor3 = "Text"
                    },
                    Text = i.Title,
                    FontFace = Font.new(b.Font, Enum.FontWeight.Medium)
                }),
                e("UIListLayout", {
                    Padding = UDim.new(0, g.UIPadding / 3)
                })
            })

            if i.Content then
                e("TextLabel", {
                    AutomaticSize = "Y",
                    Size = UDim2.new(1, 0, 0, 0),
                    TextWrapped = true,
                    TextXAlignment = "Left",
                    RichText = true,
                    BackgroundTransparency = 1,
                    TextTransparency = .4,
                    TextSize = 15,
                    ThemeTag = {
                        TextColor3 = "Text"
                    },
                    Text = i.Content,
                    FontFace = Font.new(b.Font, Enum.FontWeight.Medium),
                    Parent = p
                })
            end

            local r = b.NewRoundFrame(g.UICorner, "Squircle", {
                Size = UDim2.new(1, 0, 0, 0),
                Position = UDim2.new(2, 0, 1, 0),
                AnchorPoint = Vector2.new(0, 1),
                AutomaticSize = "Y",
                ImageTransparency = .05,
                ThemeTag = {
                    ImageColor3 = "Background"
                },
            }, {
                e("CanvasGroup", {
                    Size = UDim2.new(1, 0, 1, 0),
                    BackgroundTransparency = 1,
                }, {
                    m,
                    e("UICorner", {
                        CornerRadius = UDim.new(0, g.UICorner),
                    })
                }),
                e("ImageLabel", {
                    Name = "Background",
                    Image = i.Background,
                    BackgroundTransparency = 1,
                    Size = UDim2.new(1, 0, 1, 0),
                    ScaleType = "Crop",
                    ImageTransparency = i.BackgroundImageTransparency
                }, {
                    e("UICorner", {
                        CornerRadius = UDim.new(0, g.UICorner),
                    })
                }),
                p,
                j, l,
            })

            local u = e("Frame", {
                BackgroundTransparency = 1,
                Size = UDim2.new(1, 0, 0, 0),
                Parent = h.Holder
            }, {
                r
            })

            function i.Close(v)
                if not i.Closed then
                    i.Closed = true
                    f(u, 0.45, {Size = UDim2.new(1, 0, 0, -8)}, Enum.EasingStyle.Quint, Enum.EasingDirection.Out):Play()
                    f(r, 0.55, {Position = UDim2.new(2, 0, 1, 0)}, Enum.EasingStyle.Quint, Enum.EasingDirection.Out):Play()
                    task.wait(.45)
                    u:Destroy()
                end
            end

            task.spawn(function()
                task.wait()
                f(u, 0.45, {Size = UDim2.new(1, 0, 0, r.AbsoluteSize.Y)}, Enum.EasingStyle.Quint, Enum.EasingDirection.Out):Play()
                f(r, 0.45, {Position = UDim2.new(0, 0, 1, 0)}, Enum.EasingStyle.Quint, Enum.EasingDirection.Out):Play()
                if i.Duration then
                    f(m, i.Duration, {Size = UDim2.new(1, 0, 1, 0)}, Enum.EasingStyle.Linear, Enum.EasingDirection.InOut):Play()
                    task.wait(i.Duration)
                    i:Close()
                end
            end)

            if l then
                b.AddSignal(l.TextButton.MouseButton1Click, function()
                    i:Close()
                end)
            end

            return i
        end

        return g
    end

    function WindUI.Themes()
        return function(library)
            return {
                Dark = {
                    Name = "Dark",
                    Accent = Color3.fromHex("#1e3a8a"),      -- Azul Escuro
                    Dialog = Color3.fromHex("#1e3a8a"),      -- Azul Escuro
                    Outline = Color3.fromHex("#bfdbfe"),     -- Azul Claro
                    Text = Color3.fromHex("#dbeafe"),        -- Azul Muito Claro
                    Placeholder = Color3.fromHex("#93c5fd"), -- Azul MÃ©dio
                    Background = Color3.fromHex("#0f172a"),  -- Azul Escuro
                    Button = Color3.fromHex("#1e40af"),      -- Azul
                    Icon = Color3.fromHex("#60a5fa"),        -- Azul Claro
                    Toggle = Color3.fromHex("#22c55e"),
                    Checkbox = Color3.fromHex("#0091ff"),
                },
                Light = {
                    Name = "Light",
                    Accent = Color3.fromHex("#dbeafe"),      -- Azul Muito Claro
                    Dialog = Color3.fromHex("#eff6ff"),      -- Azul Claro
                    Outline = Color3.fromHex("#1e3a8a"),     -- Azul Escuro
                    Text = Color3.fromHex("#1e3a8a"),        -- Azul Escuro
                    Placeholder = Color3.fromHex("#64748b"),
                    Background = Color3.fromHex("#f1f5f9"),  -- Azul Claro
                    Button = Color3.fromHex("#3b82f6"),      -- Azul
                    Icon = Color3.fromHex("#475569"),
                },
                BlueDark = {
                    Name = "Blue Dark",
                    Accent = Color3.fromHex("#1e3a8a"),      -- Azul Marinho
                    Dialog = Color3.fromHex("#1e3a8a"),
                    Outline = Color3.fromHex("#bfdbfe"),
                    Text = Color3.fromHex("#dbeafe"),
                    Placeholder = Color3.fromHex("#93c5fd"),
                    Background = Color3.fromHex("#0f172a"),  -- Azul Escuro
                    Button = Color3.fromHex("#1e40af"),
                    Icon = Color3.fromHex("#60a5fa"),
                    Toggle = Color3.fromHex("#22c55e"),
                    Checkbox = Color3.fromHex("#0091ff"),
                },
                BlueLight = {
                    Name = "Blue Light",
                    Accent = Color3.fromHex("#3b82f6"),      -- Azul Vibrante
                    Dialog = Color3.fromHex("#eff6ff"),
                    Outline = Color3.fromHex("#1e3a8a"),
                    Text = Color3.fromHex("#1e3a8a"),
                    Placeholder = Color3.fromHex("#64748b"),
                    Background = Color3.fromHex("#f8fafc"),  -- Azul Muito Claro
                    Button = Color3.fromHex("#2563eb"),
                    Icon = Color3.fromHex("#475569"),
                },
                Navy = {
                    Name = "Navy",
                    Accent = Color3.fromHex("#1e3a8a"),      -- Azul Marinho
                    Dialog = Color3.fromHex("#1e3a8a"),
                    Outline = Color3.fromHex("#bfdbfe"),
                    Text = Color3.fromHex("#dbeafe"),
                    Placeholder = Color3.fromHex("#93c5fd"),
                    Background = Color3.fromHex("#0f172a"),  -- Azul Escuro
                    Button = Color3.fromHex("#1e40af"),
                    Icon = Color3.fromHex("#60a5fa"),
                },
                Ocean = {
                    Name = "Ocean",
                    Accent = Color3.fromHex("#0369a1"),      -- Azul Oceano
                    Dialog = Color3.fromHex("#0c4a6e"),
                    Outline = Color3.fromHex("#bae6fd"),
                    Text = Color3.fromHex("#f0f9ff"),
                    Placeholder = Color3.fromHex("#4fb6d9"),
                    Background = Color3.fromHex("#041f2e"),  -- Azul Escuro
                    Button = Color3.fromHex("#0284c7"),
                    Icon = Color3.fromHex("#0ea5e9"),
                },
                Midnight = {
                    Name = "Midnight",
                    Accent = Color3.fromHex("#1e3a8a"),
                    Dialog = Color3.fromHex("#0c1e42"),
                    Outline = Color3.fromHex("#bfdbfe"),
                    Text = Color3.fromHex("#dbeafe"),
                    Placeholder = Color3.fromHex("#2f74d1"),
                    Background = Color3.fromHex("#0a0f1e"),
                    Button = Color3.fromHex("#2563eb"),
                    Icon = Color3.fromHex("#3b82f6"),
                },
                Sky = {
                    Name = "Sky",
                    Accent = Color3.fromHex("#0369a1"),
                    Dialog = Color3.fromHex("#0c4a6e"),
                    Outline = Color3.fromHex("#bae6fd"),
                    Text = Color3.fromHex("#f0f9ff"),
                    Placeholder = Color3.fromHex("#4fb6d9"),
                    Background = Color3.fromHex("#041f2e"),
                    Button = Color3.fromHex("#0284c7"),
                    Icon = Color3.fromHex("#0ea5e9"),
                }
            }
        end
    end

    function WindUI.Main()
        local Core = WindUI.load('Core')
        local ThemeModule = WindUI.load('Themes')
        local LocalizationModule = WindUI.load('LocalizationModule')
        local NotificationModule = WindUI.load('NotificationModule')
        
        local Themes = nil
        local Transparent = false
        local TransparencyValue = 0.15
        local UIScale = 1
        local ConfigManager = nil
        local Version = "1.6.61"
        local Services = WindUI.load('Services')

        local HttpService = game:GetService("HttpService")
        
        local packageJson = HttpService:JSONDecode(WindUI.PackageJson())
        if packageJson then
            Version = packageJson.version
        end

        local KeySystem = WindUI.load('KeySystem')
        local Services = WindUI.load('Services')

        local Creator = Core
        local New = Creator.New
        local Tween = Creator.Tween

        local Acrylic = WindUI.load('Acrylic')
        local Player = game:GetService("Players") and game:GetService("Players").LocalPlayer or nil

        local protectGui = protectgui or (syn and syn.protect_gui) or function() end
        local GUI = gethui and gethui() or (game.CoreGui or game.Players.LocalPlayer:WaitForChild("PlayerGui"))

        local ScreenGui = New("ScreenGui", {
            Name = "WindUI",
            Parent = GUI,
            IgnoreGuiInset = true,
            ScreenInsets = "None",
        }, {
            New("UIScale", {
                Scale = UIScale,
            }),
            New("Folder", {
                Name = "Window"
            }),
            New("Folder", {
                Name = "KeySystem"
            }),
            New("Folder", {
                Name = "Popups"
            }),
            New("Folder", {
                Name = "ToolTips"
            })
        })

        local NotificationGui = New("ScreenGui", {
            Name = "WindUI/Notifications",
            Parent = GUI,
            IgnoreGuiInset = true,
        })

        local DropdownGui = New("ScreenGui", {
            Name = "WindUI/Dropdowns",
            Parent = GUI,
            IgnoreGuiInset = true,
        })

        protectGui(ScreenGui)
        protectGui(NotificationGui)
        protectGui(DropdownGui)

        Core.Init(WindUI)

        math.clamp(TransparencyValue, 0, 1)

        local NotificationHolder = NotificationModule.Init(NotificationGui)

        local Library = {
            Window = nil,
            Theme = nil,
            Creator = Core,
            LocalizationModule = LocalizationModule,
            NotificationModule = NotificationModule,
            Themes = nil,
            Transparent = false,
            TransparencyValue = TransparencyValue,
            UIScale = UIScale,
            ConfigManager = nil,
            Version = Version,
            Services = Services,
            OnThemeChangeFunction = nil,
            ScreenGui = ScreenGui,
            NotificationGui = NotificationGui,
            DropdownGui = DropdownGui,
        }

        function Library.Notify(notificationData)
            notificationData.Holder = NotificationHolder.Frame
            notificationData.Window = Library.Window
            return NotificationModule.New(notificationData)
        end

        function Library.SetNotificationLower(lower)
            NotificationHolder.SetLower(lower)
        end

        function Library.SetFont(font)
            Core.UpdateFont(font)
        end

        function Library.OnThemeChange(callback)
            Library.OnThemeChangeFunction = callback
        end

        function Library.AddTheme(themeData)
            Library.Themes[themeData.Name] = themeData
            return themeData
        end

        function Library.SetTheme(themeName)
            if Library.Themes[themeName] then
                Library.Theme = Library.Themes[themeName]
                Core.SetTheme(Library.Themes[themeName])

                if Library.OnThemeChangeFunction then
                    Library.OnThemeChangeFunction(themeName)
                end
                return Library.Themes[themeName]
            end
            return nil
        end

        function Library.GetThemes()
            return Library.Themes
        end

        function Library.GetCurrentTheme()
            return Library.Theme.Name
        end

        function Library.GetTransparency()
            return Library.Transparent or false
        end

        function Library.GetWindowSize()
            return Library.Window and Library.Window.UIElements.Main.Size or UDim2.new()
        end

        function Library.Localization(config)
            return LocalizationModule:New(config, Core)
        end

        function Library.SetLanguage(language)
            if Core.Localization then
                return Core.SetLanguage(language)
            end
            return false
        end

        function Library.ToggleAcrylic(enabled)
            if Library.Window and Library.Window.AcrylicPaint and Library.Window.AcrylicPaint.Model then
                Library.Window.Acrylic = enabled
                Library.Window.AcrylicPaint.Model.Transparency = enabled and 0.98 or 1
                if enabled then
                    Acrylic.Enable()
                else
                    Acrylic.Disable()
                end
            end
        end

        function Library.Gradient(colorStops, properties)
            local colorKeypoints = {}
            local transparencyKeypoints = {}

            for position, colorData in next, colorStops do
                local time = tonumber(position)
                if time then
                    time = math.clamp(time / 100, 0, 1)
                    table.insert(colorKeypoints, ColorSequenceKeypoint.new(time, colorData.Color))
                    table.insert(transparencyKeypoints, NumberSequenceKeypoint.new(time, colorData.Transparency or 0))
                end
            end

            table.sort(colorKeypoints, function(a, b) return a.Time < b.Time end)
            table.sort(transparencyKeypoints, function(a, b) return a.Time < b.Time end)

            if #colorKeypoints < 2 then
                error("ColorSequence requires at least 2 keypoints")
            end

            local gradientData = {
                Color = ColorSequence.new(colorKeypoints),
                Transparency = NumberSequence.new(transparencyKeypoints),
            }

            if properties then
                for property, value in pairs(properties) do
                    gradientData[property] = value
                end
            end

            return gradientData
        end

        function Library.Popup(popupData)
            popupData.WindUI = Library
            return WindUI.load('Popup').new(popupData)
        end

        Library.Themes = ThemeModule(Library)
        Core.Themes = Library.Themes

        Library:SetTheme("Dark")
        Library:SetLanguage(Core.Language)

        function Library.CreateWindow(windowConfig)
            local WindowModule = WindUI.load('Window')

            if not isfolder("WindUI") then
                makefolder("WindUI")
            end
            if windowConfig.Folder then
                makefolder(windowConfig.Folder)
            else
                makefolder(windowConfig.Title)
            end

            windowConfig.WindUI = Library
            windowConfig.Parent = ScreenGui.Window

            if Library.Window then
                warn("You cannot create more than one window")
                return
            end

            local authorized = true

            local theme = Library.Themes[windowConfig.Theme or "Dark"]
            Core.SetTheme(theme)

            local getHWID = gethwid or function()
                return game:GetService("Players").LocalPlayer.UserId
            end

            local hwid = getHWID()

            if windowConfig.KeySystem then
                authorized = false

                local function loadKeysystem()
                    KeySystem.new(windowConfig, hwid, function(status)
                        authorized = status
                    end)
                end

                local keyFile = (windowConfig.Folder or "Temp") .. "/" .. hwid .. ".key"

                if not windowConfig.KeySystem.API then
                    if windowConfig.KeySystem.SaveKey and isfile(keyFile) then
                        local savedKey = readfile(keyFile)
                        local isValid = (type(windowConfig.KeySystem.Key) == "table")
                            and table.find(windowConfig.KeySystem.Key, savedKey)
                            or tostring(windowConfig.KeySystem.Key) == tostring(savedKey)

                        if isValid then
                            authorized = true
                        else
                            loadKeysystem()
                        end
                    else
                        loadKeysystem()
                    end
                else
                    if isfile(keyFile) then
                        local savedKey = readfile(keyFile)
                        local isValid = false

                        for _, serviceConfig in next, windowConfig.KeySystem.API do
                            local service = Library.Services[serviceConfig.Type]
                            if service then
                                local args = {}
                                for _, argName in next, service.Args do
                                    table.insert(args, serviceConfig[argName])
                                end

                                local serviceInstance = service.New(table.unpack(args))
                                local success = serviceInstance.Verify(savedKey)
                                if success then
                                    isValid = true
                                    break
                                end
                            end
                        end

                        authorized = isValid
                        if not isValid then loadKeysystem() end
                    else
                        loadKeysystem()
                    end
                end

                repeat task.wait() until authorized
            end

            local window = WindowModule(windowConfig)
            Library.Transparent = windowConfig.Transparent
            Library.Window = window

            if windowConfig.Acrylic then
                Acrylic.init()
            end

            return window
        end

        return Library
    end

    function WindUI.PackageJson()
        return [[
        {
            "name": "windui",
            "version": "1.6.61",
            "main": "./dist/main.lua",
            "repository": "https://github.com/Footagesus/WindUI",
            "discord": "https://discord.gg/ftgs-development-hub-1300692552005189632",
            "author": "Footagesus",
            "description": "Roblox UI Library for scripts",
            "license": "MIT",
            "scripts": {
                "dev": "bash build/build.sh dev $INPUT_FILE",
                "build": "bash build/build.sh build $INPUT_FILE",
                "live": "python -m http.server 8642",
                "watch": "chokidar . -i 'node_modules' -i 'dist' -i 'build' -c 'npm run dev --'",
                "live-build": "concurrently \"npm run live\" \"npm run watch --\"",
                "updater": "python updater/main.py"
            },
            "keywords": [
                "ui-library",
                "ui-design",
                "script",
                "script-hub",
                "exploiting"
            ],
            "devDependencies": {
                "chokidar-cli": "^3.0.0",
                "concurrently": "^9.2.0"
            }
        }]]
    end
end

return WindUI.Main()
